.container-fluid
  .row{style: "padding-top:20px;"}
  -#%table#datatable.display.compact{"data-source" => clients_url(format: "json")}

  - bc = "background: #595959; color: white; border-right: 2px solid white;"
  .row
    - header_style  = "padding: 4px 17px 4px 4px; font-size:15px; font-weight: bold; margin-bottom: 2px;" + bc
    - main_menu     = "height: 45px;" + header_style
    - sub_menu      = "height: 43px;" + header_style
    - sub_menu_text = "padding-top: 6px;text-decoration:none;"
    :css
      .hoverness:hover {
        cursor: pointer;
        color: #5958BE;
      }
    .col-sm-2
      .row{style: "height: 41px;"}
      .row{style: main_menu}
        %div{style: sub_menu_text} Deals
      .row{style: sub_menu}
        %div.hoverness#alldeals{style: sub_menu_text} All Deals
      .row{style: sub_menu}
        %div.hoverness#attempted{style: sub_menu_text} Attempted
      .row{style: sub_menu}
        %div.hoverness#presenting{style: sub_menu_text} Presenting
      .row{style: sub_menu}
        %div.hoverness#appointment{style: sub_menu_text} Appointment
      .row{style: sub_menu}
        %div.hoverness#negotiating{style: sub_menu_text} Negotiating
      .row{style: sub_menu}
        %div.hoverness#sold{style: sub_menu_text} Sold
      .row{style: sub_menu}
        %div.hoverness#notcontracted{style: sub_menu_text} Not Contracted
      .row{style: sub_menu}
        %div.hoverness#notinvolved{style: sub_menu_text} Not Involved
    .col-sm-10{style: "padding-left: 0px;"}
      %table#datatable.display.compact{"data-source" => clients_url(format: "json"), style: "cursor: pointer; cursor: hand;"}
        %thead
          %tr{style: "height: 45px;"}
            %th{style: bc} Customer
            %th{style: bc} Stage
            %th{style: bc} CPS
            %th{style: bc}= image_tag("calculator-Kopie.png", style: "height: 36px; width:39px;")
            %th{style: bc}= image_tag("saving4.png", style: "height: 36px; width:39px;")
            %th{style: bc}= image_tag("building-Kopie.png", style: "height: 36px; width:39px;")
            %th{style: bc}= image_tag("key-Kopie.png", style: "height: 36px; width:39px;")
            %th{style: bc}= image_tag("coins-Kopie.png", style: "height: 36px; width:39px;")
            %th{style: bc}= image_tag("calendar-Kopie.png", style: "height: 36px; width:39px;")
        %tbody
          = render partial: "clients/client", collection: @clients



:javascript
  $(document).ready(function() {
    $('#datatable').DataTable({
       "lengthChange": false,
       "displayLength": 8
    });
 
    $('#datatable').on('click', 'tbody tr td', function(e){  
      if (e.ctrlKey) {
        window.open($(this).parent().attr('href'), '_blank');
      } else { 
        window.location.href = $(this).parent().attr('href');
      }
    });

    $("#alldeals").click(function () {
      window.location.href = "/clients";
    });
    $("#attempted").click(function () {
      window.location.href = "/clients?filter="+$(this).attr("id");
    });
    $("#presenting").click(function () {
      window.location.href = "/clients?filter="+$(this).attr("id");
    });
    $("#appointment").click(function () {
      window.location.href = "/clients?filter="+$(this).attr("id");
    });
    $("#negotiating").click(function () {
      window.location.href = "/clients?filter="+$(this).attr("id");
    });
    $("#sold").click(function () {
      window.location.href = "/clients?filter="+$(this).attr("id");
    });
    $("#notcontracted").click(function () {
      window.location.href = "/clients?filter="+$(this).attr("id");
    });
    $("#notinvolved").click(function () {
      window.location.href = "/clients?filter="+$(this).attr("id");
    });
  });


